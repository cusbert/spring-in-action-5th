# Spring in Action 스프링 인 액션 목차

## PART 1 스프링 기초 1

### CHAPTER 1 스프링 시작하기 3

- [ ] 1.1 스프링이란? 4
- [ ] 1.2 스프링 애플리케이션 초기 설정하기 7
- 1.2.1 STS를 사용해서 스프링 프로젝트 초기 설정하기 8
- 1.2.2 스프링 프로젝트 구조 살펴보기 12
- [ ] 1.3 스프링 애플리케이션 작성하기 18
- 1.3.1 웹 요청 처리하기 19
- 1.3.2 뷰 정의하기 20
- 1.3.3 컨트롤러 테스트하기 22
- 1.3.4 애플리케이션 빌드하고 실행하기 24
- 1.3.5 스프링 부트 DevTools 알아보기 26
- 1.3.6 리뷰하기 28
- [ ] 1.4 스프링 살펴보기 30
- 1.4.1 핵심 스프링 프레임워크 30
- 1.4.2 스프링 부트 31
- 1.4.3 스프링 데이터 31
- 1.4.4 스프링 시큐리티 32
- 1.4.5 스프링 통합과 배치 32
- 1.4.6 스프링 클라우드 32

### CHAPTER 2 웹 애플리케이션 개발하기 34

- [ ] 2.1 정보 보여주기 35
- 2.1.1 도메인 설정하기 36
- 2.1.2 컨트롤러 클래스 생성하기 41
- 2.1.3 뷰 디자인하기 45
- [ ] 2.2 폼 제출 처리하기 51
- [ ] 2.3 폼 입력 유효성 검사하기 57
- 2.3.1 유효성 검사 규칙 선언하기 58
- 2.3.2 폼과 바인딩될 때 유효성 검사 수행하기 60
- 2.3.3 유효성 검사 에러 보여주기 62
- [ ] 2.4 뷰 컨트롤러로 작업하기 65
- 2.5 뷰 템플릿 라이브러리 선택하기 68
- 2.5.1 템플릿 캐싱 70

### CHAPTER 3 데이터로 작업하기 72

- [ ] 3.1 JDBC를 사용해서 데이터 읽고 쓰기 73
- 3.1.1 퍼시스턴스를 고려한 도메인 객체 수정하기 75
- 3.1.2 JdbcTemplate 사용하기 76
- 3.1.3 스키마 정의하고 데이터 추가하기 84
- 3.1.4 타코와 주문 데이터 추가하기 87
- [ ] 3.2 스프링 데이터 JPA를 사용해서 데이터 저장하고 사용하기 103
- 3.2.1 스프링 데이터 JPA를 프로젝트에 추가하기 103
- 3.2.2 도메인 객체에 애노테이션 추가하기 104
- 3.2.3 JPA 리퍼지터리 선언하기 108
- 3.2.4 JPA 리퍼지터리 커스터마이징하기 112

### CHAPTER 4 스프링 시큐리티 116

- [ ] 4.1 스프링 시큐리티 활성화하기 117
- [ ] 4.2 스프링 시큐리티 구성하기 120
- 4.2.1 인메모리 사용자 스토어 123
- 4.2.2 JDBC 기반의 사용자 스토어 125
- 4.2.3 LDAP 기반 사용자 스토어 132
- 4.2.4 사용자 인증의 커스터마이징 138
- [ ] 4.3 웹 요청 보안 처리하기 148
- 4.3.1 웹 요청 보안 처리하기 148
- 4.3.2 커스텀 로그인 페이지 생성하기 152
- 4.3.3 로그아웃하기 155
- 4.3.4 CSRF 공격 방어하기 155
- [ ] 4.4 사용자 인지하기 158
- [ ] 4.5 각 폼에 로그아웃 버튼 추가하고 사용자 정보 보여주기 164

### CHAPTER 5 구성 속성 사용하기 167

- [ ] 5.1 자동-구성 세부 조정하기 168
- 5.1.1 스프링 환경 추상화 이해하기 169
- 5.1.2 데이터 소스 구성하기 171
- 5.1.3 내장 서버 구성하기 172
- 5.1.4 로깅 구성하기 174
- 5.1.5 다른 속성의 값 가져오기 176
- [ ] 5.2 우리의 구성 속성 생성하기 176
- 5.2.1 구성 속성 홀더 정의하기 180
- 5.2.2 구성 속성 메타데이터 선언하기 182
- [ ] 5.3 프로파일 사용해서 구성하기 185
- 5.3.1 프로파일 특정 속성 정의하기 186
- 5.3.2 프로파일 활성화하기 188
- 5.3.3 프로파일을 사용해서 조건별로 빈 생성하기 189

## PART 2 통합된 스프링 193

### CHAPTER 6 REST 서비스 생성하기 195

- [ ] 6.1 REST 컨트롤러 작성하기 196
- 6.1.1 서버에서 데이터 가져오기 198
- 6.1.2 서버에 데이터 전송하기 204
- 6.1.3 서버의 데이터 변경하기 205
- 6.1.4 서버에서 데이터 삭제하기 208
- [ ] 6.2 하이퍼미디어 사용하기 209
- 6.2.1 하이퍼링크 추가하기 212
- 6.2.2 리소스 어셈블러 생성하기 215
- 6.2.3 embedded 관계 이름 짓기 220
- [ ] 6.3 데이터 기반 서비스 활성화하기 221
- 6.3.1 리소스 경로와 관계 이름 조정하기 224
- 6.3.2 페이징과 정렬 226
- 6.3.3 커스텀 엔드포인트 추가하기 228
- 6.3.4 커스텀 하이퍼링크를 스프링 데이터 엔드포인트에 추가하기 230
- [ ] 6.4 앵귤러 IDE 이클립스 플러그인 설치와 프로젝트 빌드 및 실행하기 231
- 6.4.1 앵귤러 IDE 이클립스 플러그인 설치하기 232
- 6.4.2 타코 클라우드 애플리케이션 빌드하고 실행하기 237

### CHAPTER 7 REST 서비스 사용하기 245

- [ ] 7.1 RestTemplate으로 REST 엔드포인트 사용하기 246
- 7.1.1 리소스 가져오기(GET) 248
- 7.1.2 리소스 쓰기(PUT) 250
- 7.1.3 리소스 삭제하기(DELETE) 250
- 7.1.4 리소스 데이터 추가하기(POST) 251
- [ ] 7.2 Traverson으로 REST API 사용하기 252
- [ ] 7.3 REST API 클라이언트가 추가된 타코 클라우드 애플리케이션 빌드 및 실행하기 255

### CHAPTER 8 비동기 메시지 전송하기 259

- [ ] 8.1 JMS로 메시지 전송하기 260
- 8.1.1 JMS 설정하기 260
- 8.1.2 JmsTemplate을 사용해서 메시지 전송하기 263
- 8.1.3 JMS 메시지 수신하기 271
- [ ] 8.2 RabbitMQ와 AMQP 사용하기 276
- 8.2.1 RabbitMQ를 스프링에 추가하기 277
- 8.2.2 RabbitTemplate을 사용해서 메시지 전송하기 278
- 8.2.3 RabbitMQ로부터 메시지 수신하기 283
- [ ] 8.3 카프카 사용하기 288
- 8.3.1 카프카 사용을 위해 스프링 설정하기 289
- 8.3.2 KafkaTemplate을 사용해서 메시지 전송하기 290
- 8.3.3 카프카 리스너 작성하기 292
- [ ] 8.4 비동기 메시지 전송과 수신 기능이 추가된 타코 클라우드 애플리케이션 빌드 및 실행하기 294

### CHAPTER 9 스프링 통합하기 300

- [ ] 9.1 간단한 통합 플로우 선언하기 301
- 9.1.1 XML을 사용해서 통합 플로우 정의하기 303
- 9.1.2 Java로 통합 플로우 구성하기 305
- 9.1.3 스프링 통합의 DSL 구성 사용하기 307
- [ ] 9.2 스프링 통합의 컴포넌트 살펴보기 308
- 9.2.1 메시지 채널 310
- 9.2.2 필터 312
- 9.2.3 변환기 313
- 9.2.4 라우터 314
- 9.2.5 분배기 316
- 9.2.6 서비스 액티베이터 319
- 9.2.7 게이트웨이 321
- 9.2.8 채널 어댑터 322
- 9.2.9 엔드포인트 모듈 324
- [ ] 9.3 이메일 통합 플로우 생성하기 326
- [ ] 9.4 타코 클라우드 애플리케이션 빌드 및 실행하기 332

## PART 3 리액티브 스프링 337

### CHAPTER 10 리액터 개요 339

- [ ] 10.1 리액티브 프로그래밍 이해하기 340
- 10.1.1 리액티브 스트림 정의하기 342
- [ ] 10.2 리액터 시작하기 344
- 10.2.1 리액티브 플로우의 다이어그램 345
- 10.2.2 리액터 의존성 추가하기 346
- [ ] 10.3 리액티브 오퍼레이션 적용하기 347
- 10.3.1 리액티브 타입 생성하기 348
- 10.3.2 리액티브 타입 조합하기 353
- 10.3.3 리액티브 스트림의 변환과 필터링 357
- 10.3.4 리액티브 타입에 로직 오퍼레이션 수행하기 368
- [ ] 10.4 리액티브 오퍼레이션 테스트 프로젝트 빌드 및 실행하기 370

### CHAPTER 11 리액티브 API 개발하기 373

- [ ] 11.1 스프링 WebFlux 사용하기 373
- 11.1.1 스프링 WebFlux 개요 375
- 11.1.2 리액티브 컨트롤러 작성하기 377
- [ ] 11.2 함수형 요청 핸들러 정의하기 382
- [ ] 11.3 리액티브 컨트롤러 테스트하기 386
- 11.3.1 GET 요청 테스트하기 386
- 11.3.2 POST 요청 테스트하기 389
- 11.3.3 실행 중인 서버로 테스트하기 391
- [ ] 11.4 REST API를 리액티브하게 사용하기 392
- 11.4.1 리소스 얻기(GET) 393
- 11.4.2 리소스 전송하기 396
- 11.4.3 리소스 삭제하기 397
- 11.4.4 에러 처리하기 397
- 11.4.5 요청 교환하기 399
- [ ] 11.5 리액티브 웹 API 보안 401
- 11.5.1 리액티브 웹 보안 구성하기 402
- 11.5.2 리액티브 사용자 명세 서비스 구성하기 404

### CHAPTER 12 리액티브 데이터 퍼시스턴스 407

- [ ] 12.1 스프링 데이터의 리액티브 개념 이해하기 408
- 12.1.1 스프링 데이터 리액티브 개요 409
- 12.1.2 리액티브와 리액티브가 아닌 타입 간의 변환 409
- 12.1.3 리액티브 리퍼지터리 개발하기 412
- [ ] 12.2 리액티브 카산드라 리퍼지터리 사용하기 412
- 12.2.1 스프링 데이터 카산드라 활성화하기 413
- 12.2.2 카산드라 데이터 모델링 이해하기 416
- 12.2.3 카산드라 퍼시스턴스의 도메인 타입 매핑 416
- 12.2.4 리액티브 카산드라 리퍼지터리 작성하기 423
- [ ] 12.3 리액티브 몽고DB 리퍼지터리 작성하기 426
- 12.3.1 스프링 데이터 몽고DB 활성화하기 427
- 12.3.2 도메인 타입을 문서로 매핑하기 429
- 12.3.3 리액티브 몽고DB 리퍼지터리 인터페이스 작성하기 432

## PART 4 클라우드 네이티브 스프링 437

### CHAPTER 13 서비스 탐구하기 439

- [ ] 13.1 마이크로서비스 이해하기 440
- [ ] 13.2 서비스 레지스트리 설정하기 442
- 13.2.1 유레카 구성하기 447
- 13.2.2 유레카 확장하기 450
- [ ] 13.3 서비스 등록하고 찾기 452
- 13.3.1 유레카 클라이언트 속성 구성하기 453
- 13.3.2 서비스 사용하기 455
- [ ] 13.4 마이크로 서비스 관련 프로젝트의 빌드 및 실행하기 461

### CHAPTER 14 클라우드 구성 관리 468

- [ ] 14.1 구성 공유하기 469
- [ ] 14.2 구성 서버 실행하기 470
- 14.2.1 구성 서버 활성화하기 471
- 14.2.2 Git 리퍼지터리에 구성 속성 저장하기 476
- [ ] 14.3 공유되는 구성 데이터 사용하기 480
- [ ] 14.4 애플리케이션이나 프로파일에 특정된 속성 제공하기 482
- 14.4.1 애플리케이션에 특정된 속성 제공하기 482
- 14.4.2 프로파일로부터 속성 제공하기 484
- [ ] 14.5 구성 속성들의 보안 유지하기 486
- 14.5.1 Git 백엔드의 속성들 암호화하기 486
- 14.5.2 Vault에 보안 속성 저장하기 490
- [ ] 14.6 실시간으로 구성 속성 리프레시하기 495
- 14.6.1 구성 속성을 수동으로 리프레시하기 496
- 14.6.2 구성 속성을 자동으로 리프레시하기 499
- [ ] 14.7 구성 서버와 구성 클라이언트 프로젝트의 빌드 및 실행하기 507

### CHAPTER 15 실패와 지연 처리하기 512

- [ ] 15.1 서킷 브레이커 이해하기 512
- [ ] 15.2 서킷 브레이커 선언하기 515
- 15.2.1 지연 시간 줄이기 518
- 15.2.2 서킷 브레이커 한계값 관리하기 519
- [ ] 15.3 실패 모니터링하기 521
- 15.3.1 Hystrix 대시보드 개요 522
- 15.3.2 Hystrix 스레드 풀 이해하기 525
- [ ] 15.4 다수의 Hystrix 스트림 종합하기 527
- [ ] 15.5 Hystrix와 Turbine을 사용한 식자재 클라이언트 서비스 빌드 및 실행하기 530

## PART 5 스프링 배포 537

### CHAPTER 16 스프링 부트 액추에이터 사용하기 539

- [ ] 16.1 액추에이터 개요 540
- 16.1.1 액추에이터의 기본 경로 구성하기 541
- 16.1.2 액추에이터 엔드포인트의 활성화와 비활성화 542
- [ ] 16.2 액추에이터 엔드포인트 소비하기 543
- 16.2.1 애플리케이션 기본 정보 가져오기 544
- 16.2.2 구성 상세 정보 보기 548
- 16.2.3 애플리케이션 활동 지켜보기 557
- 16.2.4 런타임 메트릭 활용하기 560
- [ ] 16.3 액추에이터 커스터마이징 563
- 16.3.1 /info 엔드포인트에 정보 제공하기 563
- 16.3.2 커스텀 건강 지표 정의하기 569
- 16.3.3 커스텀 메트릭 등록하기 570
- 16.3.4 커스텀 엔드포인트 생성하기 572
- [ ] 16.4 액추에이터 보안 처리하기 576
- [ ] 16.5 액추에이터 엔드포인트와 보안을 사용한 타코 서비스 빌드 및 실행하기 578

### CHAPTER 17 스프링 관리하기 584

- [ ] 17.1 스프링 부트 Admin 사용하기 585
- 17.1.1 Admin 서버 생성하기 585
- 17.1.2 Admin 클라이언트 등록하기 587
- [ ] 17.2 Admin 서버 살펴보기 591
- 17.2.1 애플리케이션의 건강 상태 정보와 일반 정보 보기 592
- 17.2.2 핵심 메트릭 살펴보기 593
- 17.2.3 환경 속성 살펴보기 594
- 17.2.4 로깅 레벨을 보거나 설정하기 594
- 17.2.5 스레드 모니터링 595
- 17.2.6 HTTP 요청 추적하기 596
- [ ] 17.3 Admin 서버의 보안 597
- 17.3.1 Admin 서버에 로그인 활성화하기 598
- 17.3.2 액추에이터로 인증하기 598
- [ ] 17.4 Admin 서버 서비스 빌드 및 실행하기 600

### CHAPTER 18 JMX로 스프링 모니터링하기 607

- [ ] 18.1 액추에이터 MBeans 사용하기 607
- [ ] 18.2 우리의 MBeans 생성하기 610
- [ ] 18.3 알림 전송하기 612
- [ ] 18.4 TacoCounter MBeans 빌드 및 사용하기 613

### CHAPTER 19 스프링 배포하기 620

- [ ] 19.1 배포 옵션 621
- [ ] 19.2 WAR 파일 빌드하고 배포하기 622
- [ ] 19.3 클라우드 파운드리에 JAR 파일 푸시하기 625
- [ ] 19.4 도커 컨테이너에서 스프링 부트 실행하기 628

## APPENDIX A 스프링 부트 프로젝트 생성하기 634

- A.1 STS를 사용해서 프로젝트 생성하기 634
- A.2 IntelliJ IDEA 설치 및 프로젝트 생성하기 638
- A.2.1 윈도우 시스템에서 IntelliJ IDEA 설치하기
- A.2.2 맥OS에서 IntelliJ IDEA 설치하기
- A.2.3 리눅스에서 IntelliJ IDEA 설치하기
- A.2.4 IntelliJ IDEA 프로젝트 생성하기
- A.3 NetBeans 설치 및 프로젝트 생성하기 645
- A.4 start.spring.io에 직접 접속하여 프로젝트 생성하기 651
- A.5 명령행에서 프로젝트 생성하기 654
- A.5.1 curl과 Initializr API
- A.5.2 스프링 부트 명령행 인터페이스 사용하기
- A.6 메타-프레임워크를 사용해서 스프링 애플리케이션 생성하기 658
- A.7 프로젝트 빌드하고 실행하기 659
- A.8 curl 설치하기 660
